<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>

  <head>
    <meta charset="utf-8">
      <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
      <title>FY2022 Project PLATEAU UC22-008「3D都市モデルを基礎としたIDマッチング基盤」の成果物（Building matching WebAPI）</title>
      <meta name="viewport" content="width=device-width">
      <meta name="title" content="FY2022 Project PLATEAU UC22-008「3D都市モデルを基礎としたIDマッチング基盤」の成果物（Building matching WebAPI）">
    
      <link rel="shortcut icon" href="favicon.ico">
      <link rel="stylesheet" href="styles/docfx.vendor.css">
      <link rel="stylesheet" href="styles/docfx.css">
      <link rel="stylesheet" href="styles/main.css">
      <meta property="docfx:navrel" content="toc.html">
      <meta property="docfx:tocrel" content="manual/toc.html">
    
    
    
  </head>
  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>

        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>

              <a class="navbar-brand" href="index.html">
                <img id="logo" class="svg" src="logo.svg" alt="">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
            </div>
          </div>
        </nav>

        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div role="main" class="container body-content hide-when-search">

        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div id="sidetoc"></div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="">
<h1 id="令和4年度-民間ユースケース開発uc22-0083d都市モデルを基礎としたidマッチング基盤の成果物building-matching-webapi">FY2022 Project PLATEAU UC22-008「3D都市モデルを基礎としたIDマッチング基盤」の成果物（Building matching WebAPI）</h1>

<h2 id="1-概要">1. 概要</h2>
<p>本ソフトウェアは、2D 地図データおよび 3D 点群データを 3D都市モデルの建物データと突合し、建物 ID との関連付けを行うWebAPI 機能を提供するサービスアプリケーションです。</p>
<p>以下の機能を提供します。</p>
<ul>
<li><a href="#2d">2D 建物マッチング機能</a>: 2D 建物ポリゴンを 3D都市モデルの建物データにマッチングします。</li>
<li><a href="#3d_pointcloud">3D 点群マッチング機能</a>: 3D 点群データを 3D都市モデルの建物データにマッチングします。</li>
<li><a href="#3d_texture">3D テクスチャマッピング機能</a>: 3D 点群データを 3D都市モデルの建物データのテクスチャとして
マッピングします。</li>
</ul>
<h2 id="23d都市モデルを基礎としたidマッチング基盤について">2．「3D都市モデルを基礎としたIDマッチング基盤」について</h2>
<h3 id="ユースケースの概要">ユースケースの概要</h3>
<p>近年、地理空間情報の活用が活発になる一方、建物や土地に関する様々な情報が別個に存在し、統合が進んでいないため、総合的、複合的なデータ分析の課題となっています。
今回の実証実験では、3D都市モデルの幾何形状を基礎データとして多様な地理空間情報をマッチング処理し、建物IDを介したデータ結合を行う基盤を構築することで、様々な地理空間情報の統合を促進します。</p>
<h3 id="開発システムの概要">開発システムの概要</h3>
<h4 id="2d-建物マッチング機能"><a name="2d">2D 建物マッチング機能</a></h4>
<ul>
<li><p>機能概要</p>
<p><a href="https://geojson.org/">GeoJSON</a> ポリゴンで表現された 2D 建物データを問い合わせとして送信すると、
対応する 3D都市モデルの建物データを GeoJSON 形式で返します。</p>
<p>次の画像は WebAPI デモアプリケーションでの実行例です。</p>
  <img src="resources/manual/building2d.jpg" style="width: 450px; height: 300px;">
<p>検索したい建物群（リクエスト）がオレンジ色、それに一致すると判断された
3D都市モデルの建物データ群（レスポンス）が緑色で表示しています。
レスポンスの個々の建物には、リクエストの建物が持つ属性情報が渡されます。</p>
</li>
<li><p>API 詳細</p>
<p><a href="manual/10_webapi.html#2d">WebAPI「2D 建物マッチング機能」</a> を参照してください。</p>
</li>
</ul>
<h4 id="3d-点群マッチング機能"><a name="3d_pointcloud">3D 点群マッチング機能</a></h4>
<ul>
<li><p>機能概要</p>
<p><a href="https://www.ogc.org/standards/LAS">LAS フォーマット</a> の 3D
点群データファイルを問い合わせデータとして送信すると、その点群に
対応する 3D都市モデルの建物データのリストと、点群がそれぞれの建物表面を
カバーする面積を 2D GeoJSON 形式で返します。</p>
<p>次の画像は WebAPI デモアプリケーションでの実行例です。</p>
  <img src="resources/manual/sample_las.jpg" style="width: 300px; height: 200px;">
  <img src="resources/manual/pointcloud3d.jpg" style="width: 300px; height: 200px;">
<p>1枚目画像の点群データをリクエストとして送ると、この点群に含まれていると
判断された 3D都市モデルの建物データ群が2枚目画像に示したポリゴンとして返されます。
レスポンスの個々の建物には、建物表面付近に点群データが存在する面積と
建物のモデルから計算した表面積が属性情報として渡されます。</p>
<p>図で緑色に表示されている建物は表面の40%以上に点群データが存在しているもの、
オレンジ色は 20% 以上、赤色は 20% 未満を表しています。</p>
</li>
<li><p>API 詳細</p>
<p><a href="manual/10_webapi.html#3d_pointcloud">WebAPI「3D 点群マッチング機能」</a> を参照してください。</p>
</li>
</ul>
<h4 id="3d-テクスチャマッピング機能"><a name="3d_texture">3D テクスチャマッピング機能</a></h4>
<ul>
<li><p>機能概要</p>
<p>3D 点群データと 3D都市モデルの建物データの ID を問い合わせデータとして送信すると、
その建物に点群データから生成したテクスチャをマッピングした
3D都市モデルデータを <a href="https://en.wikipedia.org/wiki/Wavefront_.obj_file">Wavefront OBJ 形式</a> のファイルとして返します。</p>
<p>次の画像は WebAPI デモアプリケーションでの実行例です。</p>
  <img src="resources/manual/sample_las.jpg" style="width: 300px; height: 200px;">
  <img src="resources/manual/texture3d.jpg" style="width: 342px; height: 200px;">
<p>1枚目画像の点群データと 3D都市モデルの建物データの ID をリクエストとして送ると、
この点群データから建物表面付近の点を選択して、それぞれの壁面の
テクスチャ画像を作成します。</p>
<p>実際に返されるのは Zip 形式のファイルで、中には 3D都市モデルの建物データのモデルから作成した
OBJ ファイル、面と画像の関係を管理する MTL ファイル、
および面ごとのテクスチャ画像ファイル（PNG）が含まれます。</p>
</li>
<li><p>API 詳細</p>
<p><a href="manual/10_webapi.html#3d_texture">WebAPI「3D テクスチャマッピング機能」</a> を参照してください。</p>
</li>
</ul>
<h2 id="3利用手順">3．利用手順</h2>
<p>インストール方法・使い方は<a href="manual/01_install.html">こちら</a></p>
<h2 id="ライセンス-">ライセンス <!-- 定型文のため変更しない --></h2>
<ul>
<li>ソースコードおよび関連ドキュメントの著作権は国土交通省に帰属します。</li>
<li>本ドキュメントは<a href="https://www.mlit.go.jp/plateau/sitepolicy/">Project PLATEAUのサイトポリシー</a>（CCBY4.0および政府標準利用規約2.0）に従い提供されています。</li>
</ul>
<h2 id="注意事項-">注意事項 <!-- 定型文のため変更しない --></h2>
<ul>
<li>本レポジトリは参考資料として提供しているものです。動作保証は行っておりません。</li>
<li>予告なく変更・削除する可能性があります。</li>
<li>本レポジトリの利用により生じた損失及び損害等について、国土交通省はいかなる責任も負わないものとします。</li>
</ul>
<h2 id="参考資料-">参考資料　 <!-- 各リンクは納品時に更新 --></h2>
<ul>
<li>3D都市モデルを基礎としたIDマッチング基盤技術検証レポート: <a href="https://www.mlit.go.jp/plateau/libraries/technical-reports/">https://www.mlit.go.jp/plateau/libraries/technical-reports/</a></li>
<li>PLATEAU Webサイト Use caseページ「3D都市モデルを基礎としたIDマッチング基盤」: <a href="https://www.mlit.go.jp/plateau/use-case/uc22-008/
  ">https://www.mlit.go.jp/plateau/use-case/uc22-008/</a></li>
</ul>
<p>主なライブラリ</p>
<ul>
<li>GDAL : <a href="https://gdal.org/">https://gdal.org/</a></li>
<li>GeoAlchemy2 : <a href="https://pypi.org/project/GeoAlchemy2/">https://pypi.org/project/GeoAlchemy2/</a></li>
<li>GeoPandas : <a href="https://geopandas.org/en/stable/">https://geopandas.org/en/stable/</a></li>
<li>laspy : <a href="https://laspy.readthedocs.io/en/latest/index.html">https://laspy.readthedocs.io/en/latest/index.html</a></li>
<li>Leaflet : <a href="https://leafletjs.com/">https://leafletjs.com/</a></li>
<li>NumPy : <a href="https://numpy.org/">https://numpy.org/</a></li>
<li>Open3D : <a href="http://www.open3d.org/">http://www.open3d.org/</a></li>
<li>Pillow : <a href="https://pillow.readthedocs.io/en/stable/">https://pillow.readthedocs.io/en/stable/</a></li>
<li>PostGIS : <a href="https://postgis.net/">https://postgis.net/</a></li>
<li>PostgreSQL : <a href="https://www.postgresql.org/">https://www.postgresql.org/</a></li>
<li>SciPy : <a href="https://scipy.org/">https://scipy.org/</a></li>
<li>Shapely : <a href="">https://pypi.org/project/shapely/</a></li>
</ul>
</article>
          </div>

          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <div class="contribution">
                <ul class="nav">
                </ul>
              </div>
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
                <h5>In This Article</h5>
                <div></div>
              </nav>
            </div>
          </div>
        </div>
      </div>

      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
      
      <span>Generated by <strong>DocFX</strong></span>
          </div>
        </div>
      </footer>
    </div>

    <script type="text/javascript" src="styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="styles/docfx.js"></script>
    <script type="text/javascript" src="styles/main.js"></script>
  </body>
</html>
